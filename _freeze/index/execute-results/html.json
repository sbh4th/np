{
  "hash": "e9a942820e6d10eac0d19549f36a3170",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: New Paper\nrunning-head: New paper\nauthor: \n  - name: Sam Harper\n    orcid: 0000-0002-2767-1053\n    email: sam.harper@mcgill.ca\n    corresponding: true\n    affiliation: \n      - ref: 1\naffiliations:\n  - id: 1\n    name: McGill University\n    department: Department of Epidemiology\nabstract: |\n  Why did we start? Because chocolate. What did we do? Ate chocolate. What did we find? It’s delicious. What does it all matter? It's obvious!\nkeywords: [heterogeneity, uncertainty, variation, multilevel model, statistics, visualization]\nauthornote: |\n  This manuscript is not yet peer-reviewed.\nbibliography: np.bib\nciteproc: true\ncsl: vancouver.csl\n---\n\n\n\n\n\n\n\n## Background\n\nLet’s face it. Chocolate is delicious, and it seems impossible that it might not be good for you. However, the science is unclear, at least for some outcomes.[@chan2007]\n\n## Methods\n\nWe recruited students who thought they were coming for training in reproducible research methods as a pre-text for eating chocolate in the morning. We measured their happiness using our established, validated index.\n\nWe calculated some descriptive statistics and ran a simple linear regression model, shown in @eq-1:\n\n$$\ny_{it}=\\beta_{0} + \\beta_{1}*Treated + \\beta_{2}*Period + \\epsilon_{it}\n$$ {#eq-1}\n\nWe also explored a model with a product term, but not because p>0.05 in the previous model. Honest.\n\n## Results\n\nDescriptive statistics are shown in Table 1\n\n\n\n\n\n::: {.cell tbl-cap='Mean happiness by treatment and time'}\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script>\n      function styleCell_mc9zoz0wlqlb5figawf7(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_mc9zoz0wlqlb5figawf7\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_mc9zoz0wlqlb5figawf7');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_mc9zoz0wlqlb5figawf7(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_mc9zoz0wlqlb5figawf7\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\nwindow.addEventListener('load', function () { spanCell_mc9zoz0wlqlb5figawf7(1, 0, 2, 1) })\nwindow.addEventListener('load', function () { spanCell_mc9zoz0wlqlb5figawf7(3, 0, 2, 1) })\nwindow.addEventListener('load', function () { spanCell_mc9zoz0wlqlb5figawf7(5, 0, 2, 1) })\nwindow.addEventListener('load', function () { styleCell_mc9zoz0wlqlb5figawf7(0, 0, 'tinytable_css_idq4edjxv2yj3qhefo2pot') })\nwindow.addEventListener('load', function () { styleCell_mc9zoz0wlqlb5figawf7(0, 1, 'tinytable_css_idq4edjxv2yj3qhefo2pot') })\nwindow.addEventListener('load', function () { styleCell_mc9zoz0wlqlb5figawf7(0, 2, 'tinytable_css_idq4edjxv2yj3qhefo2pot') })\nwindow.addEventListener('load', function () { styleCell_mc9zoz0wlqlb5figawf7(0, 3, 'tinytable_css_idq4edjxv2yj3qhefo2pot') })\n    </script>\n\n    <style>\n    .table td.tinytable_css_idq4edjxv2yj3qhefo2pot, .table th.tinytable_css_idq4edjxv2yj3qhefo2pot {  border-bottom: solid 0.1em #d3d8dc; }\n    </style>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_mc9zoz0wlqlb5figawf7\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\">Period</th>\n                <th scope=\"col\">Treatment</th>\n                <th scope=\"col\">Mean</th>\n                <th scope=\"col\">SD</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>Pre         </td>\n                  <td>Control</td>\n                  <td> 9.9</td>\n                  <td>8.1</td>\n                </tr>\n                <tr>\n                  <td>Pre         </td>\n                  <td>Treated</td>\n                  <td> 9.8</td>\n                  <td>6.9</td>\n                </tr>\n                <tr>\n                  <td>Intervention</td>\n                  <td>Control</td>\n                  <td>14.8</td>\n                  <td>6.9</td>\n                </tr>\n                <tr>\n                  <td>Intervention</td>\n                  <td>Treated</td>\n                  <td>17.7</td>\n                  <td>7.4</td>\n                </tr>\n                <tr>\n                  <td>Post        </td>\n                  <td>Control</td>\n                  <td>20.2</td>\n                  <td>7  </td>\n                </tr>\n                <tr>\n                  <td>Post        </td>\n                  <td>Treated</td>\n                  <td>25.3</td>\n                  <td>7.3</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n\n\n\nEstimates from the regression analysis are shown in Table 2. Regression results clearly show that chocolate increases happiness. We can see that the overall happiness index for the chocolate group was 4.67 units higher in the post period relative to the change over the same period in the control group [95% CI: 3.66, 5.68].\n\n\n\n\n\n::: {.cell tbl-cap='Regression results'}\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script>\n      function styleCell_w110i82keku75sxo1ite(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_w110i82keku75sxo1ite\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_w110i82keku75sxo1ite');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_w110i82keku75sxo1ite(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_w110i82keku75sxo1ite\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(0, 0, 'tinytable_css_idjdurpgd80q778av406o3') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(0, 1, 'tinytable_css_idok45yws7egu90s07mdph') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(0, 2, 'tinytable_css_idok45yws7egu90s07mdph') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(1, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(1, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(1, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(2, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(2, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(2, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(3, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(3, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(3, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(4, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(4, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(4, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(5, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(5, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(5, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(6, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(6, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(6, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(7, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(7, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(7, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(8, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(8, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(8, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(9, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(9, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(9, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(10, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(10, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(10, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(11, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(11, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(11, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(12, 0, 'tinytable_css_idqupefybh6jts5v4dmejm') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(12, 1, 'tinytable_css_idnrypzcorvacqahd1e8vf') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(12, 2, 'tinytable_css_idnrypzcorvacqahd1e8vf') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(13, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(13, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(13, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(14, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(14, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(14, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(15, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(15, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(15, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(16, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(16, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(16, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(17, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(17, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(17, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(18, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(18, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(18, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(19, 0, 'tinytable_css_idbzi2a1opkoh2p31kizr5') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(19, 1, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\nwindow.addEventListener('load', function () { styleCell_w110i82keku75sxo1ite(19, 2, 'tinytable_css_idh5frev5q6ghe1p3rvrl7') })\n    </script>\n\n    <style>\n    .table td.tinytable_css_idjdurpgd80q778av406o3, .table th.tinytable_css_idjdurpgd80q778av406o3 {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }\n    .table td.tinytable_css_idok45yws7egu90s07mdph, .table th.tinytable_css_idok45yws7egu90s07mdph {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }\n    .table td.tinytable_css_idbzi2a1opkoh2p31kizr5, .table th.tinytable_css_idbzi2a1opkoh2p31kizr5 {  text-align: left; }\n    .table td.tinytable_css_idh5frev5q6ghe1p3rvrl7, .table th.tinytable_css_idh5frev5q6ghe1p3rvrl7 {  text-align: center; }\n    .table td.tinytable_css_idqupefybh6jts5v4dmejm, .table th.tinytable_css_idqupefybh6jts5v4dmejm {  border-bottom: solid 0.05em black;  text-align: left; }\n    .table td.tinytable_css_idnrypzcorvacqahd1e8vf, .table th.tinytable_css_idnrypzcorvacqahd1e8vf {  border-bottom: solid 0.05em black;  text-align: center; }\n    </style>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_w110i82keku75sxo1ite\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n                <th scope=\"col\">(2)</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)                        </td>\n                  <td>8.523    </td>\n                  <td>9.888    </td>\n                </tr>\n                <tr>\n                  <td>                                   </td>\n                  <td>(0.380)  </td>\n                  <td>(0.461)  </td>\n                </tr>\n                <tr>\n                  <td>treatedTreated                     </td>\n                  <td>2.620    </td>\n                  <td>-0.110   </td>\n                </tr>\n                <tr>\n                  <td>                                   </td>\n                  <td>(0.380)  </td>\n                  <td>(0.652)  </td>\n                </tr>\n                <tr>\n                  <td>periodIntervention                 </td>\n                  <td>6.433    </td>\n                  <td>4.940    </td>\n                </tr>\n                <tr>\n                  <td>                                   </td>\n                  <td>(0.466)  </td>\n                  <td>(0.652)  </td>\n                </tr>\n                <tr>\n                  <td>periodPost                         </td>\n                  <td>12.919   </td>\n                  <td>10.317   </td>\n                </tr>\n                <tr>\n                  <td>                                   </td>\n                  <td>(0.466)  </td>\n                  <td>(0.652)  </td>\n                </tr>\n                <tr>\n                  <td>treatedTreated × periodIntervention</td>\n                  <td>         </td>\n                  <td>2.986    </td>\n                </tr>\n                <tr>\n                  <td>                                   </td>\n                  <td>         </td>\n                  <td>(0.922)  </td>\n                </tr>\n                <tr>\n                  <td>treatedTreated × periodPost        </td>\n                  <td>         </td>\n                  <td>5.205    </td>\n                </tr>\n                <tr>\n                  <td>                                   </td>\n                  <td>         </td>\n                  <td>(0.922)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.                           </td>\n                  <td>1500     </td>\n                  <td>1500     </td>\n                </tr>\n                <tr>\n                  <td>R2                                 </td>\n                  <td>0.353    </td>\n                  <td>0.367    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.                            </td>\n                  <td>0.352    </td>\n                  <td>0.365    </td>\n                </tr>\n                <tr>\n                  <td>AIC                                </td>\n                  <td>10251.4  </td>\n                  <td>10223.5  </td>\n                </tr>\n                <tr>\n                  <td>BIC                                </td>\n                  <td>10277.9  </td>\n                  <td>10260.7  </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.                           </td>\n                  <td>-5120.692</td>\n                  <td>-5104.743</td>\n                </tr>\n                <tr>\n                  <td>RMSE                               </td>\n                  <td>7.35     </td>\n                  <td>7.27     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n\n\n\n\nRegression results clearly show that chocolate increases happiness, but if you aren't convinced please see Figure 1.\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Predicted happiness index from interaction model.](index_files/figure-html/figure1-1.png){width=672}\n:::\n:::\n\n\n\n\n\n## Discussion\n\nWe think this is convincing. But it may not matter for policy since another randomized trial showed that many participants switched groups mid-study because of their personal chocolate preferences.[@scaramuzza2015]\n\n## References\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}